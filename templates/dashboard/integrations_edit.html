{% extends "base_dashboard.html" %}
{% block title %}‚úèÔ∏è Integration bearbeiten{% endblock %}

{% block content %}
<div class="integration-edit-container">
  <h1>‚úèÔ∏è Integration bearbeiten</h1>
  <p class="subtitle">Passe Name, Typ, API-Schl√ºssel oder Aktivierungsstatus an.</p>

  <form method="post" action="/dashboard/integrations/edit/{{ integration.id }}" class="edit-form">
    <!-- üü¶ Name -->
    <div class="form-group">
      <label for="name">üî§ Name</label>
      <input type="text" id="name" name="name" value="{{ integration.name }}" required>
    </div>

    <!-- üü® Typ -->
    <div class="form-group">
      <label for="type">‚öôÔ∏è Typ</label>
      <select id="type" name="type" required>
        <option value="whatsapp" {% if integration.type == 'whatsapp' %}selected{% endif %}>WhatsApp</option>
        <option value="stripe" {% if integration.type == 'stripe' %}selected{% endif %}>Stripe</option>
        <option value="mailgun" {% if integration.type == 'mailgun' %}selected{% endif %}>Mailgun</option>
        <option value="custom" {% if integration.type == 'custom' %}selected{% endif %}>Benutzerdefiniert</option>
      </select>
    </div>

    <!-- üü© API-Key -->
    <div class="form-group">
      <label for="api_key">üîë API-Key</label>
      <input type="text" id="api_key" name="api_key" value="{{ integration.api_key or '' }}">
    </div>

    <!-- üüß Aktiv -->
    <div class="form-checkbox">
      <label>
        <input type="checkbox" name="is_active" {% if integration.is_active %}checked{% endif %}>
        Aktiv
      </label>
    </div>

    <!-- üü¶ Aktionen -->
    <div class="form-actions">
      <button type="submit" class="btn-primary">üíæ Speichern</button>
      <a href="/dashboard/integrations" class="btn-secondary">‚¨ÖÔ∏è Zur√ºck</a>
    </div>
  </form>
</div>

<style>
  :root {
    --primary:#0D2A78;
    --primary-dark:#1E40AF;
    --neutral:#6B7280;
    --border:#e5e7eb;
    --success:#10B981;
    --danger:#DC2626;
    --bg:#f9fafb;
  }

  .integration-edit-container {
    max-width: 600px;
    margin: 0 auto;
    background: #fff;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  }

  h1 {
    font-size: 1.6rem;
    font-weight: 800;
    color: var(--primary);
    margin-bottom: 0.3rem;
  }

  .subtitle {
    color: var(--neutral);
    margin-bottom: 1.5rem;
  }

  .edit-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .form-group label {
    font-weight: 600;
    color: var(--primary);
    font-size: 0.9rem;
    margin-bottom: 0.3rem;
    display: block;
  }

  .form-group input,
  .form-group select {
    width: 100%;
    padding: 0.6rem 0.8rem;
    border: 1px solid var(--border);
    border-radius: 8px;
    font-size: 0.95rem;
    transition: border 0.25s ease;
  }

  .form-group input:focus,
  .form-group select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(13,42,120,0.15);
  }

  .form-checkbox {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .form-checkbox input {
    transform: scale(1.2);
    margin-right: 0.5rem;
  }

  .form-actions {
    display: flex;
    gap: 0.8rem;
    justify-content: flex-start;
    margin-top: 1rem;
  }

  .btn-primary {
    background: var(--primary);
    color: #fff;
    padding: 0.7rem 1.2rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.25s ease;
  }

  .btn-primary:hover {
    background: var(--primary-dark);
  }

  .btn-secondary {
    background: var(--neutral);
    color: #fff;
    text-decoration: none;
    padding: 0.7rem 1.2rem;
    border-radius: 8px;
    font-weight: 600;
    transition: background 0.25s ease;
  }

  .btn-secondary:hover {
    background: #4b5563;
  }

  @media (max-width: 600px) {
    .integration-edit-container {
      padding: 1.5rem;
    }
  }
</style>
{% endblock %}