{% extends "base_dashboard.html" %}
{% block title %}âœï¸ Integration bearbeiten{% endblock %}

{% block content %}
<div style="max-width:600px;margin:0 auto;">
  <h1 style="font-size:1.5rem;font-weight:700;margin-bottom:1rem;">âœï¸ Integration bearbeiten</h1>

  <form method="post" action="/dashboard/integrations/edit/{{ integration.id }}" style="display:flex;flex-direction:column;gap:.8rem;">
    <!-- ğŸŸ¦ Name -->
    <label>
      Name:
      <input type="text" name="name" value="{{ integration.name }}" required
             style="width:100%;padding:.6rem;border:1px solid #ccc;border-radius:6px;">
    </label>

    <!-- ğŸŸ¨ Typ -->
    <label>
      Typ:
      <select name="type" style="width:100%;padding:.6rem;border:1px solid #ccc;border-radius:6px;">
        <option value="whatsapp" {% if integration.type == 'whatsapp' %}selected{% endif %}>WhatsApp</option>
        <option value="stripe" {% if integration.type == 'stripe' %}selected{% endif %}>Stripe</option>
        <option value="mailgun" {% if integration.type == 'mailgun' %}selected{% endif %}>Mailgun</option>
        <option value="custom" {% if integration.type == 'custom' %}selected{% endif %}>Benutzerdefiniert</option>
      </select>
    </label>

    <!-- ğŸŸ© API-Key -->
    <label>
      API-Key:
      <input type="text" name="api_key" value="{{ integration.api_key or '' }}"
             style="width:100%;padding:.6rem;border:1px solid #ccc;border-radius:6px;">
    </label>

    <!-- ğŸŸ§ Aktiv -->
    <label style="display:flex;align-items:center;gap:.5rem;">
      <input type="checkbox" name="is_active" {% if integration.is_active %}checked{% endif %}>
      Aktiv
    </label>

    <!-- ğŸŸ¦ Aktionen -->
    <div style="display:flex;gap:.5rem;margin-top:1rem;">
      <button type="submit" style="background:#3b82f6;color:white;padding:.6rem 1rem;border:none;border-radius:6px;cursor:pointer;">ğŸ’¾ Speichern</button>
      <a href="/dashboard/integrations" style="background:#6b7280;color:white;padding:.6rem 1rem;border-radius:6px;text-decoration:none;">â¬…ï¸ ZurÃ¼ck</a>
    </div>
  </form>
</div>
{% endblock %}